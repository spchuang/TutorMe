#import "RCTBridgeModule.h"
#import <AssetsLibrary/AssetsLibrary.h>
#import <UIKit/UIKit.h>
@interface ReadImageData : NSObject <RCTBridgeModule>
@end

@implementation ReadImageData

RCT_EXPORT_MODULE();

RCT_EXPORT_METHOD(readImage:(NSString *)input callback:(RCTResponseSenderBlock)callback)
{

    NSError *err = nil;
    NSData *data = [NSData dataWithContentsOfFile:input
                                        options:NSDataReadingUncached
                                          error:&err];
    UIImage *img = [UIImage imageWithData:data];
    
    callback(@[[UIImagePNGRepresentation(img) base64EncodedStringWithOptions:NSDataBase64Encoding64CharacterLineLength]]);
  
}
@end
